Для осуществления создания запросов к бд, в symfony существуюет два способа:
1) Создание обычного sql запроса, как обычный mysql запрос, который будет направляться
в базу данных и возврщать необходимые данные, исходя из запроса.

2) Создание doctrine query builder, который создан для упрощения создания sql запросов,
почти все методы qb, названы так же как и обычные sql запросы. Для создание qb,
необходимо:

$goodsRepository = $this->manager->getRepository(Goods::class);
$qb = $goodsRepository->createQueryBuilder('goods');

Для начала необходимо запросить репозиторий, из EntityManager, который запрашивает определенную
сущность, далее создаем переменную $qb, в которую передаем из репозитория создание qb, с ключевым
словом goods, которые используется позже в sql запросах.

$qb->select(' goods.name, goods.price ');
$qb->where(' goods.price > :price ');
$qb->setParametr('price', 100);
$qb->getQuery()->getResult();

Далее мы указываем в select, данные которые хотим запрашивать, далее указываем where в котором
передаем запрос, для экранирования данных нужно использовать :переменная, а потом установить для
нее параметр в методе setParametr.
В конце концнов, мы делаем запрос и получаем данные в виде объекта.

Кроме обычного where, having, существует еще также andWhere, orWhere, andHaving, orHaving, 
которые создают where или having параметры с ключами and или or, которые создают подобный запрос:
"SELECT name,price,count FROM table WHERE price > 10 AND count > 1"
